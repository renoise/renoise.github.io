<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>Reference</title>
    <link rel="stylesheet" href="../ldoc.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>xLib</h1>

<ul>
  <li><a href="../index.html">Index</a></li>
</ul>

<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Fields">Fields</a></li>
</ul>


<h2>Modules</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="../modules/xAudioDevice.html">xAudioDevice</a></li>
  <li><a href="../modules/xAutomation.html">xAutomation</a></li>
  <li><strong>xBlockLoop</strong></li>
  <li><a href="../modules/xColumns.html">xColumns</a></li>
  <li><a href="../modules/xCursorPos.html">xCursorPos</a></li>
  <li><a href="../modules/xEffectColumn.html">xEffectColumn</a></li>
  <li><a href="../modules/xInstrument.html">xInstrument</a></li>
  <li><a href="../modules/xLFO.html">xLFO</a></li>
  <li><a href="../modules/xLib.html">xLib</a></li>
  <li><a href="../modules/xLine.html">xLine</a></li>
  <li><a href="../modules/xLineAutomation.html">xLineAutomation</a></li>
  <li><a href="../modules/xLinePattern.html">xLinePattern</a></li>
  <li><a href="../modules/xMessage.html">xMessage</a></li>
  <li><a href="../modules/xMidiCommand.html">xMidiCommand</a></li>
  <li><a href="../modules/xMidiInput.html">xMidiInput</a></li>
  <li><a href="../modules/xMidiIO.html">xMidiIO</a></li>
  <li><a href="../modules/xMidiMessage.html">xMidiMessage</a></li>
  <li><a href="../modules/xNoteCapture.html">xNoteCapture</a></li>
  <li><a href="../modules/xNoteColumn.html">xNoteColumn</a></li>
  <li><a href="../modules/xOscClient.html">xOscClient</a></li>
  <li><a href="../modules/xOscDevice.html">xOscDevice</a></li>
  <li><a href="../modules/xOscMessage.html">xOscMessage</a></li>
  <li><a href="../modules/xOscPattern.html">xOscPattern</a></li>
  <li><a href="../modules/xOscRouter.html">xOscRouter</a></li>
  <li><a href="../modules/xOscValue.html">xOscValue</a></li>
  <li><a href="../modules/xParameter.html">xParameter</a></li>
  <li><a href="../modules/xPatternPos.html">xPatternPos</a></li>
  <li><a href="../modules/xPatternSequencer.html">xPatternSequencer</a></li>
  <li><a href="../modules/xPhrase.html">xPhrase</a></li>
  <li><a href="../modules/xPhraseManager.html">xPhraseManager</a></li>
  <li><a href="../modules/xPlayPos.html">xPlayPos</a></li>
  <li><a href="../modules/xRule.html">xRule</a></li>
  <li><a href="../modules/xRules.html">xRules</a></li>
  <li><a href="../modules/xRuleset.html">xRuleset</a></li>
  <li><a href="../modules/xSample.html">xSample</a></li>
  <li><a href="../modules/xSampleDeviceChain.html">xSampleDeviceChain</a></li>
  <li><a href="../modules/xSampleMapping.html">xSampleMapping</a></li>
  <li><a href="../modules/xScale.html">xScale</a></li>
  <li><a href="../modules/xSelection.html">xSelection</a></li>
  <li><a href="../modules/xSongPos.html">xSongPos</a></li>
  <li><a href="../modules/xSongSettings.html">xSongSettings</a></li>
  <li><a href="../modules/xStreamBuffer.html">xStreamBuffer</a></li>
  <li><a href="../modules/xStreamPos.html">xStreamPos</a></li>
  <li><a href="../modules/xTrack.html">xTrack</a></li>
  <li><a href="../modules/xTransport.html">xTransport</a></li>
  <li><a href="../modules/xValue.html">xValue</a></li>
  <li><a href="../modules/xVoiceManager.html">xVoiceManager</a></li>
  <li><a href="../modules/xVoiceRunner.html">xVoiceRunner</a></li>
  <li><a href="../modules/xVoiceSorter.html">xVoiceSorter</a></li>
</ul>

</div>

<div id="content">

<h1>Module <code>xBlockLoop</code></h1>
<p>Methods for working with the Renoise loop-block.</p>
<p>


<h2>About</h2>

<p>In the Renoise API, the loop-block can be controlled via transport.loop_range(). But the
implementation is a both quite strict (as values are restricted to coefficients) and bit fuzzy,
as you can apply that does not strictly adhere to those coefficients. As a result, the looped
range can 'shift' after it has been set. </p>

<p>This class tries to overcome those issues by providing a consistent interface and methods.  </p>

<p>If you are planning to use this class for realtime manipulation of the block-loop, create an
instance of the class and work with those properties. This is preferred over working directly
on the values returned from the API, as those can change during the evaluation of code. </p>

</p>


<h2><a href="#Functions">Functions</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#__init">__init (...)</a></td>
	<td class="summary">[Constructor] accepts a single argument for initializing the class</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_length">get_length ()</a></td>
	<td class="summary">[Class] get length of loop</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_block_lines">get_block_lines (seq_idx)</a></td>
	<td class="summary">[Static] Retrieve number of lines in a block using the current coefficient <br/>
 (e.g.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_block_index">get_block_index (seq_idx, line_idx)</a></td>
	<td class="summary">[Static] Return the block index of a given line in a pattern</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_start">get_start ()</a></td>
	<td class="summary">[Static] Return start line of the currently set block loop</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_end">get_end ()</a></td>
	<td class="summary">[Static] Calculates end line of the currently set block loop</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#within">within (seq_idx, line_idx, end_pos)</a></td>
	<td class="summary">[Static] Determine if position is within currently set block loop</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#exiting">exiting (seq_idx, line_idx, line_delta, end_pos)</a></td>
	<td class="summary">[Static] Check if we are heading out of a block-loop</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_previous_line_index">get_previous_line_index ()</a></td>
	<td class="summary">Obtain the line number of the loop block previous to the current one</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#get_next_line_index">get_next_line_index ()</a></td>
	<td class="summary">Obtain the line number of the loop block previous to the current one</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#normalize_line_range">normalize_line_range (start_line, end_line, num_lines, coeffs)</a></td>
	<td class="summary">Enforce range of lines to nearest valid coefficient.</td>
	</tr>
</table>
<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#self.start_line">self.start_line</a></td>
	<td class="summary">(number) where the loop starts</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.end_line">self.end_line</a></td>
	<td class="summary">(number) where the loop ends</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#self.length">self.length</a></td>
	<td class="summary">(number) length of loop (read-only)</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Functions"></a>Functions</h2>
    <dl class="function">
    <dt>
    <a name = "__init"></a>
    <strong>__init (...)</strong>
    </dt>
    <dd>
    [Constructor] accepts a single argument for initializing the class


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">...</span>



        </li>
    </ul>





</dd>
    <dt>
    <a name = "get_length"></a>
    <strong>get_length ()</strong>
    </dt>
    <dd>
    [Class] get length of loop







</dd>
    <dt>
    <a name = "get_block_lines"></a>
    <strong>get_block_lines (seq_idx)</strong>
    </dt>
    <dd>
    [Static] Retrieve number of lines in a block using the current coefficient <br/>
 (e.g.  a pattern with 64 lines and 4 as coeff would return 16)


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">seq_idx</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        number (number of lines in block) or nil</li>
        <li>
        number (number of lines in pattern) or nil</li>
    </ol>




</dd>
    <dt>
    <a name = "get_block_index"></a>
    <strong>get_block_index (seq_idx, line_idx)</strong>
    </dt>
    <dd>
    [Static] Return the block index of a given line in a pattern


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">seq_idx</span>



        </li>
        <li><span class="parameter">line_idx</span>



        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        number (the block index) or nil</li>
        <li>
        number (number of lines in pattern) or nil</li>
    </ol>




</dd>
    <dt>
    <a name = "get_start"></a>
    <strong>get_start ()</strong>
    </dt>
    <dd>
    [Static] Return start line of the currently set block loop



    <h3>Returns:</h3>
    <ol>

        int, line index or nil
    </ol>




</dd>
    <dt>
    <a name = "get_end"></a>
    <strong>get_end ()</strong>
    </dt>
    <dd>
    [Static] Calculates end line of the currently set block loop



    <h3>Returns:</h3>
    <ol>
        <li>
        number (line index) or nil</li>
        <li>
        number (number of lines in pattern) or nil</li>
    </ol>




</dd>
    <dt>
    <a name = "within"></a>
    <strong>within (seq_idx, line_idx, end_pos)</strong>
    </dt>
    <dd>
    [Static] Determine if position is within currently set block loop


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">seq_idx</span>
         (int)
        </li>
        <li><span class="parameter">line_idx</span>
         (int) line to check
        </li>
        <li><span class="parameter">end_pos</span>
         (int) optional, avoids having to calculate this
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        bool
    </ol>




</dd>
    <dt>
    <a name = "exiting"></a>
    <strong>exiting (seq_idx, line_idx, line_delta, end_pos)</strong>
    </dt>
    <dd>
    [Static] Check if we are heading out of a block-loop


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">seq_idx</span>
         (int)
        </li>
        <li><span class="parameter">line_idx</span>
         (int)
        </li>
        <li><span class="parameter">line_delta</span>
         (int), #lines to add/subtract, negative when decreasing
        </li>
        <li><span class="parameter">end_pos</span>
         (int) optional, avoids having to calculate this
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        line (int)
    </ol>




</dd>
    <dt>
    <a name = "get_previous_line_index"></a>
    <strong>get_previous_line_index ()</strong>
    </dt>
    <dd>
    Obtain the line number of the loop block previous to the current one



    <h3>Returns:</h3>
    <ol>

        number or nil
    </ol>




</dd>
    <dt>
    <a name = "get_next_line_index"></a>
    <strong>get_next_line_index ()</strong>
    </dt>
    <dd>
    Obtain the line number of the loop block previous to the current one



    <h3>Returns:</h3>
    <ol>

        number or nil
    </ol>




</dd>
    <dt>
    <a name = "normalize_line_range"></a>
    <strong>normalize_line_range (start_line, end_line, num_lines, coeffs)</strong>
    </dt>
    <dd>
    Enforce range of lines to nearest valid coefficient.  Supports 'shifted' ranges.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">start_line</span>
        , number
        </li>
        <li><span class="parameter">end_line</span>
        , number
        </li>
        <li><span class="parameter">num_lines</span>
        , number - number of lines in pattern
        </li>
        <li><span class="parameter">coeffs</span>
        ], table<number>, valid coefficients (defaults to COEFFS_ALL)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>
        <li>
        number, start line</li>
        <li>
        number, end line</li>
        <li>
        number, coefficient</li>
        <li>
        boolean, when whole pattern should be looped</li>
    </ol>




</dd>
</dl>
    <h2><a name="Fields"></a>Fields</h2>
    <dl class="function">
    <dt>
    <a name = "self.start_line"></a>
    <strong>self.start_line</strong>
    </dt>
    <dd>
    (number) where the loop starts







</dd>
    <dt>
    <a name = "self.end_line"></a>
    <strong>self.end_line</strong>
    </dt>
    <dd>
    (number) where the loop ends







</dd>
    <dt>
    <a name = "self.length"></a>
    <strong>self.length</strong>
    </dt>
    <dd>
    (number) length of loop (read-only)







</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
